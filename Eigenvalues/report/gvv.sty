% custom.sty - Custom LaTeX style file

% Correct bad hyphenation here
\usepackage{xparse}
\hyphenation{op-tical net-works semi-conduc-tor}
\def\inputGnumericTable{}

\usepackage{listings}
\lstset{
    frame=single,
    breaklines=true,
    columns=fullflexible
}

% Math commands
\providecommand{\pr}[1]{\ensuremath{\Pr\left(#1\right)}}
\providecommand{\qfunc}[1]{\ensuremath{Q\left(#1\right)}}
\providecommand{\sbrak}[1]{\ensuremath{\left[#1\right]}}
\providecommand{\lsbrak}[1]{\ensuremath{\left[#1\right.}}
\providecommand{\rsbrak}[1]{\ensuremath{\left.#1\right]}}
\providecommand{\brak}[1]{\ensuremath{\left(#1\right)}}
\providecommand{\lbrak}[1]{\ensuremath{\left(#1\right.}}
\providecommand{\rbrak}[1]{\ensuremath{\left.#1\right)}}
\providecommand{\cbrak}[1]{\ensuremath{\left\{#1\right\}}}
\providecommand{\lcbrak}[1]{\ensuremath{\left\{#1\right.}}
\providecommand{\rcbrak}[1]{\ensuremath{\left.#1\right\}}}
\providecommand{\abs}[1]{\ensuremath{\left\vert#1\right\vert}}
\providecommand{\res}[1]{\ensuremath{\Res\displaylimits_{#1}}}
\providecommand{\norm}[1]{\ensuremath{\left\lVert#1\right\rVert}}
\providecommand{\mtx}[1]{\ensuremath{\mathbf{#1}}}
\providecommand{\mean}[1]{\ensuremath{E\left[#1\right]}}
\providecommand{\dec}[2]{\ensuremath{\overset{#1}{\underset{#2}{\gtrless}}}}
\providecommand{\prt}[2]{\ensuremath{p_{#1}^{\left(#2\right)}}}
\providecommand{\rank}{\ensuremath{\text{rank}}}
\providecommand{\gauss}[2]{\ensuremath{\mathcal{N}\left(#1, #2\right)}}
\providecommand{\diff}[2]{\ensuremath{\frac{d{#1}}{d{#2}}}}
\providecommand{\myceil}[1]{\ensuremath{\left\lceil#1\right\rceil}}

\DeclareMathOperator*{\Res}{Res}

% Vector and Matrix Definitions
\newcommand{\myvec}[1]{\ensuremath{\begin{pmatrix}#1\end{pmatrix}}}
\newcommand{\myvecf}[2][0pt]{%
    \ensuremath{%
        \begin{pmatrix}%
            \renewcommand{\arraystretch}{1.5}%
            \def\myvec@rowspacing{#1}%
            #2%
        \end{pmatrix}%
    }%
}
\newcommand{\augvec}[3]{\ensuremath{\begin{amatrix}{#1|#2}#3\end{amatrix}}}
\newcommand{\mydet}[1]{\ensuremath{\begin{vmatrix}#1\end{vmatrix}}}

% Custom commands
\newcommand{\solution}{\noindent \textbf{Solution: }}
\newcommand{\cosec}{\ensuremath{\,\text{cosec}\,}}
\newcommand{\sinc}{\ensuremath{\,\text{sinc}\,}}
\newcommand{\rect}{\ensuremath{\,\text{rect}\,}}

% References
\newcommand{\figref}{Fig.~\ref}
\newcommand{\appref}{Appendix~\ref}
\newcommand{\probref}{Problem~\ref}
\newcommand{\tabref}{Table~\ref}

% System and Matrix Environments
\NewDocumentEnvironment{amatrix}{>{\SplitArgument{1}{|}}m}
 {\left(\makeamatrix#1}
 {\end{array}\right)}
\NewDocumentCommand{\makeamatrix}{mm}{%
  \IfNoValueTF{#2}
    {\begin{array}{@{}*{#1}{c}@{}}}
    {\begin{array}{@{}*{#1}{c}|*{#2}{c}@{}}}%
}
\NewDocumentCommand{\system}{gg}{%
  \IfNoValueTF{#1}
    {%
      \longleftrightarrow
    }
    {%
      \IfNoValueTF{#2}
      {%
        \overset{\mathcal{#1}}{\longleftrightarrow}
      }
      {%
        \overset{\mathcal{#1}^{#2}}{\longleftrightarrow}
      }
    }%
}

% Matching Tabular Environment
\usepackage{tabularx}
\newcounter{matchleft}
\newcounter{matchright}
\newenvironment{matchtabular}{%
  \setcounter{matchleft}{0}%
  \setcounter{matchright}{0}%
  \tabularx{\textwidth}{%
    >{\leavevmode\hbox to 1.5em{\stepcounter{matchleft}\arabic{matchleft}.}}X%
    >{\leavevmode\hbox to 1.5em{\stepcounter{matchright}\alph{matchright})}}X%
    }%
}{\endtabularx}

% Set up theorems
\theoremstyle{remark}
\newtheorem{rem}{Remark}

% Miscellaneous
\let\vec\mathbf
\let\define\triangleq
